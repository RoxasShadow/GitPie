$.fn.gitPie=function(e,t,n,r){canvas=this;$.ajax({url:e,type:'GET',dataType:'json',beforeSend:function(){if(n)n()},complete:function(){if(r)r()},success:function(e){var n={};$.each(e,function(e,t){if($.trim(t.language).length>0)if(n[t.language]==undefined)n[t.language]=1;else n[t.language]+=1});$.getJSON(t,function(e){var t=[];$.each(n,function(n,r){keyval={value:r,color:e[n],label:n};t.push(keyval)});var r=canvas.get(0).getContext('2d');(new Chart(r)).Pie(t)})}})}